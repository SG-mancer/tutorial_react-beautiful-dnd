{"ast":null,"code":"var _jsxFileName = \"/Users/shgeorge/Workshop/tutorial_react-beautiful-dnd/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from 'styled-components';\nimport '@atlaskit/css-reset';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport initialData from './initial-data';\nimport Column from './column';\nconst Container = styled.div`\n  display: flex;\n  `;\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = initialData;\n\n    this.addItem = () => {\n      //handle adding a new item\n      // follow points from https://medium.com/js-geek/create-a-simple-todo-app-in-react-72d9341a7e6c to learn how to add items\n      const newTasks = this.state.tasks;\n      const newTask = {\n        id: 'task-5',\n        content: 'TEST'\n      };\n      newTasks[\"task-5\"] = newTask;\n      const column = this.state.columns[\"column-1\"];\n      const newTaskIds = Array.from(column.taskIds); //newTaskIds.splice(newTask.index, 1);\n\n      newTaskIds.splice(newTask.index, 0, \"task-5\");\n      console.log(newTaskIds);\n      const newColumn = { ...column,\n        taskIds: newTaskIds\n      };\n      console.log(newColumn);\n      const newState = { ...this.state,\n        tasks: newTasks,\n        columns: { ...this.state.columns,\n          \"column-1\": newColumn\n        }\n      };\n      console.log(newState);\n      this.setState(newState);\n    };\n\n    this.onDragEnd = result => {\n      const {\n        destination,\n        source,\n        draggableId\n      } = result;\n\n      if (!destination) {\n        return;\n      }\n\n      if (destination.droppableId === source.droppableId && destination.index === source.index) {\n        return;\n      }\n\n      const start = this.state.columns[source.droppableId];\n      const finish = this.state.columns[destination.droppableId];\n\n      if (start === finish) {\n        const column = start;\n        const newTaskIds = Array.from(column.taskIds); //newTaskIds.splice(source.index, 1);\n\n        newTaskIds.splice(destination.index, 0, draggableId);\n        const newColumn = { ...column,\n          taskIds: newTaskIds\n        };\n        const newState = { ...this.state,\n          columns: { ...this.state.columns,\n            [newColumn.id]: newColumn\n          }\n        };\n        this.setState(newState);\n        return;\n      } // Moving from one list to another\n\n\n      const startTaskIds = Array.from(start.taskIds);\n      startTaskIds.splice(source.index, 1);\n      const newStart = { ...start,\n        taskIds: startTaskIds\n      };\n      const finishTaskIds = Array.from(finish.taskIds);\n      finishTaskIds.splice(destination.index, 0, draggableId);\n      const newFinish = { ...finish,\n        taskIds: finishTaskIds\n      };\n      const newState = { ...this.state,\n        columns: { ...this.state.columns,\n          [newStart.id]: newStart,\n          [newFinish.id]: newFinish\n        }\n      };\n      this.setState(newState);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(DragDropContext, {\n      onDragEnd: this.onDragEnd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, this.state.columnOrder.map(columnId => {\n      const column = this.state.columns[columnId];\n      const tasks = column.taskIds.map(taskId => this.state.tasks[taskId]);\n      return /*#__PURE__*/React.createElement(Column, {\n        key: column.id,\n        column: column,\n        tasks: tasks,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 20\n        }\n      });\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.addItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Task\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, \" Add Task \")));\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/React.createElement(React.StrictMode, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }\n})), document.getElementById('root'));","map":{"version":3,"sources":["/Users/shgeorge/Workshop/tutorial_react-beautiful-dnd/src/index.js"],"names":["React","ReactDOM","styled","DragDropContext","initialData","Column","Container","div","App","Component","state","addItem","newTasks","tasks","newTask","id","content","column","columns","newTaskIds","Array","from","taskIds","splice","index","console","log","newColumn","newState","setState","onDragEnd","result","destination","source","draggableId","droppableId","start","finish","startTaskIds","newStart","finishTaskIds","newFinish","render","columnOrder","map","columnId","taskId","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from 'styled-components';\nimport '@atlaskit/css-reset';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport initialData from './initial-data';\nimport Column from './column';\n\nconst Container = styled.div`\n  display: flex;\n  `;\n\nclass App extends React.Component {\n  state = initialData;\n\n  addItem = () => {\n    //handle adding a new item\n    // follow points from https://medium.com/js-geek/create-a-simple-todo-app-in-react-72d9341a7e6c to learn how to add items\n\n    const newTasks = this.state.tasks;\n    const newTask = {id: 'task-5', content: 'TEST'};\n    newTasks[\"task-5\"] = newTask;\n\n    const column = this.state.columns[\"column-1\"];\n    const newTaskIds = Array.from(column.taskIds);\n    //newTaskIds.splice(newTask.index, 1);\n    newTaskIds.splice(newTask.index, 0, \"task-5\");\n\n    console.log(newTaskIds);\n\n    const newColumn = {\n      ...column,\n      taskIds: newTaskIds,\n    };\n    console.log(newColumn);\n\n    const newState = {\n      ...this.state,\n      tasks: newTasks,\n      columns: {\n        ...this.state.columns,\n        \"column-1\": newColumn,\n      },\n    };\n    console.log(newState);\n    this.setState(newState);\n\n  }\n\n  //Moving Items\n  onDragEnd = result =>{\n    const {destination, source, draggableId} = result;\n\n    if (!destination) {\n      return;\n    }\n\n    if (\n      destination.droppableId === source.droppableId &&\n      destination.index === source.index\n    ) {\n      return;\n    }\n\n    const start = this.state.columns[source.droppableId];\n    const finish = this.state.columns[destination.droppableId];\n\n    if (start === finish) {\n      const column = start;\n      const newTaskIds = Array.from(column.taskIds);\n      //newTaskIds.splice(source.index, 1);\n      newTaskIds.splice(destination.index, 0, draggableId);\n        \n      const newColumn = {\n        ...column,\n        taskIds: newTaskIds,\n      };\n    \n\n      const newState = {\n        ...this.state,\n        columns: {\n          ...this.state.columns,\n          [newColumn.id]: newColumn,\n        },\n      };\n\n      this.setState(newState);\n      return;\n    }\n  \n    // Moving from one list to another\n    const startTaskIds = Array.from(start.taskIds);\n    startTaskIds.splice(source.index, 1);\n    const newStart = {\n      ...start,\n      taskIds: startTaskIds,\n    };\n\n    const finishTaskIds = Array.from(finish.taskIds);\n    finishTaskIds.splice(destination.index, 0, draggableId);\n    const newFinish = {\n      ...finish,\n      taskIds: finishTaskIds,\n    };\n\n    const newState = {\n      ...this.state,\n      columns: {\n        ...this.state.columns,\n        [newStart.id]: newStart,\n        [newFinish.id]: newFinish,\n      },\n    };\n    this.setState(newState);\n  };\n\n  render() {\n      return (\n        <DragDropContext onDragEnd={this.onDragEnd}>\n          <Container>\n          {this.state.columnOrder.map(columnId =>{\n            const column = this.state.columns[columnId];\n            const tasks = column.taskIds.map(taskId => this.state.tasks[taskId]);\n\n            return <Column key={column.id} column={column} tasks={tasks} />;\n          })}\n          </Container>\n\n          <form onSubmit={this.addItem}>\n            <input placeholder=\"Task\" />\n            <button type=\"submit\"> Add Task </button>\n          </form>\n        </DragDropContext>\n      );\n  }\n} \n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  \n  document.getElementById('root')\n);"]},"metadata":{},"sourceType":"module"}